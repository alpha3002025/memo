# 아이템 이동 문제

**Rate Limiter**<br/>

매번 바꿀 때마다 백엔드에서 API 를 호출해야 하는데, 현재 개발 중인 기능이 바라보는 DB는 APP API 에서도 함께 바라보는 DB 인스턴스이기에 너무 잦은 호출은 부하를 이야기할 수 있고, 기껏해야 CMS에서의 잦은 호출이 전체 서비스의 장애나 지연으로 번질 수 있다. 그래서 Rate Limiter 까지 걸어두기로 결정했다.<br/>

<br/>



**다른 서비스들은?**<br/>

예를 들면 토스증권, KB 증권의 관심종목 리스트 편집 기능을 예로 들 수 있다.

- 토스 증권 : 체크박스가 옆에 있고 모두 옮긴 이후 `확인` 버튼을 눌러서 노출순서를 서버로 전송
- KB증권 : 프론트엔드에서 수정 완료 후 `확인` 버튼 클릭시 서버로 요청 전송

<br/>



**문제 유형**<br/>

아무튼 대략적인 문제는 풀었고, 아직 예외가 발생하는 예외케이스들에 대한 코드는 작성하지 못했다. <br/>

이것 저것 예외케이스를 변태케이스를 경우의 수로 많이 풀어봤는데, 아래 케이스로만 풀리지는 않았다. 역시 너무 쉽게 생각했다. 집에 오면서 연습장에 그림을 그려봤는데, 조금은 다른 방식으로 풀렸다. 풀이 방향이 전반적으로 달라지게 되었는데 추후 이 내용을 정리할 예정<br/>

<br/>



## ITEM 1개 이동시

### 일반적인 케이스

![](./docs/img/move-1-1.png)

<br/>



### 중간에 위치한 아이템 이동 케이스

![](./docs/img/move-1-2.png)

<br/>



## ITEM 2개 이상의 묶음 이동

### 일반적인 케이스

![](./docs/img/move-2-1.png)

<br/>



### 중간에 위치한 아이템 이동 케이스

![](./docs/img/move-2-2.png)

<br/>



## 서로 떨어져 있는 ITEM 이동시

![](./docs/img/move-3.png)

<br/>









